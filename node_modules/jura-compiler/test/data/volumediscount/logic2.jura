namespace org.accordproject.volumediscount

import org.accordproject.contract.*

contract VolumeDiscount over TemplateModel {
   // Clause for volume discount
   clause volumediscount(request VolumeDiscountRequest) : VolumeDiscountResponse {
    let rate = 
      if request.netAnnualChargeVolume < contract.firstVolume { contract.firstRate }
      else if request.netAnnualChargeVolume < contract.secondVolume { contract.secondRate }
      else { contract.thirdRate };
    new VolumeDiscountResponse{ discountRate: rate }
  }
}
